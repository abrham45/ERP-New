@model Erp.Models.IssueSalery

@{
    ViewData["Title"] = "Create";
}

<div class="container px-5">
    <div class="card p-3 col-md-10 mx-auto">
        <div class="card-header border-bottom-0">
            <div class="card-title mb-2">
                <h5 class="text-muted text-">
                    Calculate Net Salary
                </h5>
            </div>
        </div>
        <div class="text-center p-2 my-1">
            @if (TempData.ContainsKey("Warning"))
            {
                <div class="alert alert-danger" role="alert">
                    @TempData["Warning"]
                </div>
            }
        </div>
     
        <div class="card-body mb-2">
        
                <div class="">
                    <form asp-action="Create">
                        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                        <div class="form-group">
                            <label class="control-label">Employee Id</label>
                            <input name="EmployeeId" class="form-control" placeholder="Enter Employee Id..." />
                        </div>

                        <div class="form-group">
                            <input type="submit" value="Calculate" class="btn btn-primary" />
                        </div>
                    </form>
                </div>
            
                @if (Model != null)
                {
                    <div class="mx-auto">
                        <dl class="row">

                            <dt class="col-sm-2">
                                Net Amount
                            </dt>
                            <dd class="col-sm-10">
                                @Html.DisplayFor(model => model.NetAmount) ETB
                            </dd>
                            <dt class="col-sm-2">
                                Total Deduction
                            </dt>
                            <dd class="col-sm-10">
                                @Html.DisplayFor(model => model.TotalDeduction) ETB
                            </dd>
                            <dt class="col-sm-2">
                                Total Alllowance
                            </dt>
                            <dd class="col-sm-10">
                                @if (Model.TotalAlllowance != null)
                                {
                                    @Html.DisplayFor(model => model.TotalAlllowance)<span>ETB</span>
                                }
                                else
                                {
                                            <span>-- --</span>
                                }          
                                
                            </dd>
                            <dt class="col-sm-2">
                                @Html.DisplayNameFor(model => model.Employee)
                            </dt>
                            <dd class="col-sm-10">
                                @Html.DisplayFor(model => model.Employee.FirstName)    @Html.DisplayFor(model => model.Employee.LastName)
                            </dd>
                            <dt class="col-sm-2">
                                @Html.DisplayNameFor(model => model.Employee) Id
                            </dt>
                            <dd class="col-sm-10">
                                @Html.DisplayFor(model => model.Employee.EmployeeCode)
                            </dd>
                            <dt class="col-sm-2">
                                Loan Request
                            </dt>
                            <dd class="col-sm-10">
                                @Html.DisplayFor(model => model.LoanRequest.LoanPolicy.MaxAmount)
                            </dd>
                            <dt class="col-sm-2">
                                Employee Bonus
                            </dt>
                            <dd class="col-sm-10">
                                @Html.DisplayFor(model => model.EmployeeBonus.Bonus.Name) - @Html.DisplayFor(model => model.EmployeeBonus.Bonus.Amount) ETB
                            </dd>
                            <dt class="col-sm-2">
                                Employee Allowance
                            </dt>
                            <dd class="col-sm-10">
                                @Html.DisplayFor(model => model.EmployeeAllowance.Allowance.Name) - @Html.DisplayFor(model => model.EmployeeAllowance.Allowance.Amount) ETB
                            </dd>
                        </dl>
                    </div>
                }


            </div>

            <div>
                <a asp-action="Index">Back to List</a>
            </div>
        </div>

   </div>

    @section Scripts {
        @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    }
